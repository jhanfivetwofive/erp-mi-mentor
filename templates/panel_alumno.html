{% extends "base.html" %}

{% block title %}Panel de Alumno - Mi Mentor{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- Información del Alumno -->
    <div class="card shadow-sm mb-4">
        <div class="card-header bg-success text-white">
            <h4 class="mb-0"><i class="bi bi-person-fill me-2"></i>Información del Alumno</h4>
        </div>
        <div class="card-body">
            <form class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Nombre</label>
                    <input type="text" class="form-control" value="{{ alumno_info['NOMBRE_ALUMNO'] }}" disabled>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Correo</label>
                    <input type="email" class="form-control" value="{{ alumno_info['CORREO'] }}" disabled>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Teléfono</label>
                    <input type="text" class="form-control" value="{{ alumno_info['TELEFONO'] }}" disabled>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Fecha de Inscripción</label>
                    <input type="text" class="form-control" value="{{ alumno_info['FECHA_INSCRIPCION'] }}" disabled>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Programa</label>
                    <input type="text" class="form-control" value="{{ alumno_info['PROGRAMA'] }}" disabled>
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Generación</label>
                    <input type="text" class="form-control" value="{{ alumno_info['GENERACION_PROGRAMA'] }}" disabled>
                </div>
            </form>
        </div>
    </div>

    <!-- Historial de Cursos -->
    <div class="card shadow-sm mb-4">
        <div class="card-header bg-success text-white">
            <h4 class="mb-0"><i class="bi bi-journal-text me-2"></i>Historial de Cursos</h4>
        </div>
        <div class="card-body">
            <table id="cursosTable" class="table table-sm table-hover table-striped table-bordered align-middle text-nowrap">
                <thead>
                    <tr>
                        <th>Curso</th>
                        <th>Porcentaje Completado</th>
                        <th>Fecha de Inicio</th>
                        <th>Última Actualización</th>
                        <th>Finalización</th>
                    </tr>
                </thead>
                <tbody>
                    {% for curso in cursos_info %}
                    <tr>
                        <td>{{ curso['COURSE_NAME'] }}</td>
                        <td>{{ curso['PERCENTAGE_COMPLETED'] }}%</td>
                        <td>{{ curso['STARTED_AT'] }}</td>
                        <td>{{ curso['UPDATED_AT'] }}</td>
                        <td>{{ curso['COMPLETED_AT'] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script>
    $(document).ready(function() {
        $('#cursosTable').DataTable({
            pageLength: 25,
            lengthMenu: [ [10, 25, 50, 100], [10, 25, 50, 100] ],
            language: {
                search: "Buscar:",
                lengthMenu: "Mostrar _MENU_ registros",
                zeroRecords: "No se encontraron resultados",
                info: "Mostrando _START_ a _END_ de _TOTAL_ registros",
                infoEmpty: "No hay registros",
                infoFiltered: "(filtrado de _MAX_ registros)",
                paginate: {
                    first: "Primero",
                    last: "Último",
                    next: "Siguiente",
                    previous: "Anterior"
                }
            }
        });
    });
</script>
{% endblock %}
